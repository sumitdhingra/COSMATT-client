/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,r,s){if(n===s)return!0;if(e===r){if("http"===e)return t(n,"80")===t(s,"80");if("https"===e)return t(n,"443")===t(s,"443")}return!1}var r,s,i,a,o,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,f=d&&location.protocol&&location.protocol.replace(/\:/,""),p=d&&location.hostname,h=d&&(location.port||void 0),T={},v=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:v.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(r){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,r,s=!1,i=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==i&&(!a||i>1)?(t=e.substring(0,i),n=e.substring(i+1)):t=e,r=n||t,i=r.indexOf("!"),-1!==i&&(s="strip"===r.substring(i+1),r=r.substring(0,i),n?n=r:t=r),{moduleName:t,ext:n,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,s,i){var a,o,c,u=r.xdRegExp.exec(e);return u?(a=u[2],o=u[3],o=o.split(":"),c=o[1],o=o[0],(!a||a===t)&&(!o||o.toLowerCase()===s.toLowerCase())&&(!c&&!o||n(a,c,t,i))):!0},finishLoad:function(e,t,n,s){n=t?r.strip(n):n,v.isBuild&&(T[e]=n),s(n)},load:function(e,t,n,s){if(s&&s.isBuild&&!s.inlineText)return void n();v.isBuild=s&&s.isBuild;var i=r.parseName(e),a=i.moduleName+(i.ext?"."+i.ext:""),o=t.toUrl(a),c=v.useXhr||r.useXhr;return 0===o.indexOf("empty:")?void n():void(!d||c(o,f,p,h)?r.get(o,function(t){r.finishLoad(e,i.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){r.finishLoad(i.moduleName+"."+i.ext,i.strip,e,n)}))},write:function(e,t,n,s){if(T.hasOwnProperty(t)){var i=r.jsEscape(T[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,s,i){var a=r.parseName(t),o=a.ext?"."+a.ext:"",c=a.moduleName+o,u=n.toUrl(a.moduleName+o)+".js";r.load(c,n,function(t){var n=function(e){return s(u,e)};n.asModule=function(e,t){return s.asModule(e,u,t)},r.write(e,c,n,i)},i)}},"node"===v.env||!v.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(s=require.nodeRequire("fs"),r.get=function(e,t,n){try{var r=s.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(i){n&&n(i)}}):"xhr"===v.env||!v.env&&r.createXhr()?r.get=function(e,t,n,s){var i,a=r.createXhr();if(a.open("GET",e,!0),s)for(i in s)s.hasOwnProperty(i)&&a.setRequestHeader(i.toLowerCase(),s[i]);v.onXhr&&v.onXhr(a,e),a.onreadystatechange=function(r){var s,i;4===a.readyState&&(s=a.status||0,s>399&&600>s?(i=new Error(e+" HTTP status: "+s),i.xhr=a,n&&n(i)):t(a.responseText),v.onXhrComplete&&v.onXhrComplete(a,e))},a.send(null)}:"rhino"===v.env||!v.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,r,s="utf-8",i=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),s)),c="";try{for(n=new java.lang.StringBuffer,r=o.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=o.readLine());)n.append(a),n.append(r);c=String(n.toString())}finally{o.close()}t(c)}:("xpconnect"===v.env||!v.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in i,r.get=function(e,t){var n,r,s,c={};o&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(s,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),r.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),c),r.close(),n.close(),t(c.value)}catch(u){throw new Error((s&&s.path||"")+": "+u)}}),r}),define("text!../test/layouts/chart-table.html",[],function(){return'{{#with content}}\r\n<div class="activity-body chart-body">  \r\n   <h2><strong>{{getAdapterParams "activityName"}}</strong></h2>    \r\n   <p class="instructions">{{{directions}}} </p>  \r\n   <div class="smart-form">\r\n      <table class="table table-bordered">\r\n         {{#if canvas.data.heading}}\r\n            <thead>\r\n               {{#each tableHeaders}}\r\n                  <th>{{{this}}}</th>\r\n               {{/each}}\r\n            </thead>\r\n         {{/if}}\r\n         {{#each canvas.data.questiondata}}\r\n            <tbody>\r\n               <tr>\r\n                  {{#each this.parts}}\r\n                     <td>{{{this}}}</td>\r\n                  {{/each}}\r\n               </tr>\r\n            <tbody>\r\n         {{/each}}\r\n      </table>  \r\n   </div>\r\n   {{#if displaySubmit}}   \r\n      <footer>      \r\n         <div class="activity-toolbar">\r\n            <span class="bottom-logo"></span>           \r\n            <p class="pull-right">\r\n               <button class="btn btn-primary" id="submit">Submit</button>\r\n            </p>           \r\n            <div class="clearfix"></div>      \r\n         </div>\r\n      </footer>\r\n   {{/if}}\r\n</div>\r\n{{/with}}'}),define("css",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]||"WebkitAppearance"in document.documentElement.style?r=!1:t[4]&&(n=parseInt(t[4])<18);var s={};s.pluginBuilder="./css-builder";var i,a,o,c=function(){i=document.createElement("style"),e.appendChild(i),a=i.styleSheet||i.sheet},u=0,l=[],d=function(e){a.addImport(e),i.onload=function(){f()},u++,31==u&&(c(),u=0)},f=function(){o();var e=l.shift();return e?(o=e[1],void d(e[0])):void(o=null)},p=function(e,t){if(a&&a.addImport||c(),a&&a.addImport)o?l.push([e,t]):(d(e),o=t);else{i.textContent='@import "'+e+'";';var n=setInterval(function(){try{i.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},h=function(t,n){var s=document.createElement("link");if(s.type="text/css",s.rel="stylesheet",r)s.onload=function(){s.onload=function(){},setTimeout(n,7)};else var i=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==s.href)return clearInterval(i),n()}},10);s.href=t,e.appendChild(s)};return s.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},s.load=function(e,t,r,s){(n?p:h)(t.toUrl(e+".css"),r)},s}),define("css!../css/chart",[],function(){}),define("chart-min-1.8.5",["text!../test/layouts/chart-table.html","css!../css/chart.css"],function(e){chart=function(){"use strict";function t(e,t,n,r,s,i){var a=jQuery.extend(!0,{},s);A=n;var o=!0;if(void 0===a.content&&(o=!1),!o)return void(i&&i());var c=m(a,t),u=v(M.TEMPLATES[r],c);$(e).html(u),$(M.DOM_SEL_ACTIVITY_BODY).attr(M.ADAPTOR_INSTANCE_IDENTIFIER,n.getId()),(t.mode.activityState===M.ACT_STATE_PREVIEW||t.mode.activityState===M.ACT_STATE_RESUME)&&h(t),t.mode.activityState!==M.ACT_STATE_PREVIEW?(y(),i&&i()):i&&i()}function n(){return S}function r(){return b.activitySubmitted||b.activityPariallySubmitted}function s(e){var t=$(M.DOM_SEL_ACTIVITY_BODY).attr(M.ADAPTOR_INSTANCE_IDENTIFIER),n=T(!1);e===!0?A.submitResults(n,t,function(t,n){n===M.STATUS_NOERROR?(b.activitySubmitted=!0,A.closeActivity(),b.currentTries=0):b.currentTries<S.MAX_RETRIES&&(b.currentTries++,s(e))}):A.savePartialResults(n,t,function(e,t){t===M.STATUS_NOERROR&&(b.activityPariallySubmitted=!0)})}function i(){var e=Object.keys(g.answersXML);$.each(e,function(e){g.userAnswersXML[this]=$("#"+this).val().replace(/^\s+|\s+$/g,"")})}function a(e){var t=e.currentTarget,n=t.value.replace(/^\s+|\s+$/g,""),r=0;r=t.id,n!==g.userAnswersXML[r]&&(g.userAnswersXML[r]=n,s(!1))}function o(e){i(),s(!0),$("."+M.DOM_SEL_INPUT_BOX).attr("disabled","disabled"),$(M.DOM_SEL_SUBMIT_BTN).attr("disabled","disabled")}function c(){$("."+M.DOM_SEL_INPUT_BOX).attr("disabled","disabled"),u(),A.autoResizeActivityIframe()}function u(){var e=Object.keys(g.userAnswersXML);$.each(e,function(t){var n=g.answersXML[e[t]],r=g.userAnswersXML[e[t]];l(e[t],n,r)})}function l(e,t,n){t===n?$("#"+e).closest("label").addClass("state-success"):0===$("#"+e).siblings().length&&($("#"+e).after("<span id='correctAnswer' style='color:green'> ("+t+")</span>"),$("#"+e).closest("label").addClass("state-error"))}function d(){$("."+M.DOM_SEL_INPUT_BOX).attr("disabled",!1);var e=Object.keys(g.userAnswersXML);$.each(e,function(t){f(e[t])}),A.autoResizeActivityIframe()}function f(e){$("#"+e).closest("label").removeClass("state-success"),$("#"+e).closest("label").removeClass("state-error"),$("#correctAnswer").remove(),$(M.DOM_SEL_SUBMIT_BTN).removeAttr("disabled")}function p(){$("."+M.DOM_SEL_INPUT_BOX).val("");var e=Object.keys(g.userAnswersXML);$.each(e,function(e){g.userAnswersXML[this]=""}),b.currentTries=0,b.activityPariallySubmitted=!1,b.activitySubmitted=!1}function h(e){(e.mode.activityState===M.ACT_STATE_RESUME||e.mode.activityState===M.ACT_STATE_PREVIEW)&&A.getLastResults(function(t){_(t,!0),e.mode.activityState===M.ACT_STATE_PREVIEW&&(u(),$(M.DOM_SEL_FOOTER).hide(),$("."+M.DOM_SEL_INPUT_BOX).attr("readonly","readonly"))})}function T(e){var t="",n={},r=Object.keys(g.answersXML),s="",i=M.ACTIVITY_NOT_ATTEMPTED,a=M.ACTIVITY_NOT_APPLICABLE,o=!1,c=!0,u=!1,l=new Array(r.length);$.each(r,function(i){var d=0,f=g.maxscore/r.length;e?t="Not Answered":(t=g.userAnswersXML[this].toString(),t?g.answersXML[this].toUpperCase()===g.userAnswersXML[this].toUpperCase()?(d+=f,o=!0):(u=!0,c=!1):c=!1,c?a=M.ACTIVITY_CORRECT:o?a=M.ACTIVITY_PARTIALLY_CORRECT:u&&(a=M.ACTIVITY_INCORRECT)),$.each(g.questionsXML,function(e){this.questionText.indexOf(r[i])>-1&&(s=this.questionText)}),n={id:this,score:d,answer:t,maxscore:f},l[i]=n});var d={interactions:l};return e||(i=M.ACTIVITY_IN_PROGRESS),d.statusProgress=i,d.statusEvaluation=a,{response:d}}function v(e,t){var n=Handlebars.compile(e),r=n(t);return r}function m(e,t){var n=0,r=e.content.canvas.data.questiondata;if(g.activtiyDelimiterXML=e.content.canvas.data.heading.delimiter,e.content.instructions&&e.content.instructions[0]&&e.content.instructions[0].tag){var s=e.content.instructions[0].tag;g.directionsXML=e.content.instructions[0][s]}return g.maxscore=e.meta.score.max,$.each(e.content.stimulus,function(e){"options"===this.tag&&(this.options=this.options.split(",")),"image"===this.tag&&(this.image=t.productAssetsBasePath+this.image),"audio"===this.tag&&(this.audio=t.productAssetsBasePath+this.audio),"video"===this.tag&&(this.video=t.productAssetsBasePath+this.video)}),$.each(r,function(t){var s=[],i=[],a="http://www.comprodls.com/m1.0/interaction/chart",o=$.parseHTML(this.text),c=0;$.each(o,function(e){this.href===a&&(s[c]=this.childNodes[0].nodeValue.trim(),i[c]=this.outerHTML,i[c]=i[c].replace(/"/g,"'"),c++)}),this.answers=0,this.answerIndex="",this.questionText=this.text,this.parts=this.questionText.split(g.activtiyDelimiterXML),c=0,$.each(this.parts,function(a){this.indexOf(i[c])>-1&&(g.answersXML[s[c]]=e.responses[s[c]].correct,r[t].parts[a]=this.replace(i[c],"<label class='input'><input type='text' id='"+s[c]+"' class='"+M.DOM_SEL_INPUT_BOX+"'/></label>"),r[t].answers++,""===r[t].answerIndex?r[t].answerIndex=n:r[t].answerIndex+=g.activtiyDelimiterXML+n,n++,g.userAnswersXML[s[c]]="",c++)}),g.questionsXML.push(this)}),e.content.displaySubmit=A.displaySubmit,e.content.tableHeaders=e.content.canvas.data.heading.text.split(g.activtiyDelimiterXML),e.content.directions=g.directionsXML,e}function y(){$("."+M.DOM_SEL_INPUT_BOX).blur(a),$(M.DOM_SEL_SUBMIT_BTN).click(o)}function _(e,t){for(var n=e.interactions,r=0;r<n.length;r++){var s=n[r].id,i=n[r].answer;g.userAnswersXML[s]=i,$("#"+s).val(i)}}function E(){var e=$(M.DOM_SEL_ACTIVITY_BODY).attr(M.ADAPTOR_INSTANCE_IDENTIFIER),t=T(!0);A.submitSkipQuestion(t,e)}function I(e){var t={layout:M.TEMPLATES[e],css:""};return t}var A,S={MAX_RETRIES:10,ENTRY_BOX_PREFIX:"entry_box_",RESIZE_MODE:"auto",RESIZE_HEIGHT:"580"},b={currentTries:0,activityPariallySubmitted:!1,activitySubmitted:!1},g={directionsXML:"",activtiyDelimiterXML:"",questionsXML:[],answersXML:{},userAnswersXML:{},maxscore:0},M={DOM_SEL_SUBMIT_BTN:"#submit",DOM_SEL_ACTIVITY_BODY:".activity-body",DOM_SEL_INPUT_BOX:"userAnswer",DOM_SEL_FOOTER:".activity-toolbar",ACT_STATE_RESUME:"state_resume",ACT_STATE_PREVIEW:"state_preview",ADAPTOR_INSTANCE_IDENTIFIER:"data-objectid",ACTIVITY_NOT_ATTEMPTED:"not_attempted",ACTIVITY_IN_PROGRESS:"in_progress",ACTIVITY_NOT_APPLICABLE:"not_applicable",ACTIVITY_PARTIALLY_CORRECT:"partially_correct",ACTIVITY_CORRECT:"correct",ACTIVITY_INCORRECT:"incorrect",STATUS_NOERROR:"NO_ERROR",TEMPLATES:{CHART:e}};return{init:t,getStatus:r,getConfig:n,handleSubmit:o,forceSubmit:E,showGrades:c,clearGrades:d,resetAnswers:p,getItemContent:I,updateLastSavedResults:_}}}),function(e){var t=document,n="appendChild",r="styleSheet",s=t.createElement("style");s.type="text/css",t.getElementsByTagName("head")[0][n](s),s[r]?s[r].cssText=e:s[n](t.createTextNode(e))}('/*******************************************************\r\n *\r\n * Core styles for the CHART Engine\r\n * \r\n * These styles do not include any product-specific branding\r\n * and/or layout / design. They represent minimal structural\r\n * CSS which is necessary for a default rendering of an\r\n * CHART activity\r\n *\r\n * The styles are linked/depending on the presence of \r\n * certain elements (classes / ids / tags) in the DOM (as would\r\n * be injected via a valid CHART layout HTML and/or dynamically\r\n * created by the CHART engine JS)\r\n * \r\n * DOM Dependencies\r\n * (1) QUESTION BLANKS (where user types answers): one or more <input type="text" ....> elements enclosed \r\n *     inside container with class="chart-body"\r\n *\r\n *\r\n *\r\n *******************************************************/\r\n\r\n/* input type text box styles */\r\n.chart-body .smart-form .input input {\r\n    border-width: 0 0px 1px 0px;\r\n    display: inline;\r\n    width: 80%;\r\n}\r\n\r\n.chart-body .smart-form .input {\r\n    display: inline;\r\n}\r\n\r\n.chart-body .table thead tr {\r\n    font-size: 1.143em;    \r\n}\r\n\r\n.chart-body .table tbody tr, .chart-body .smart-form .input input {\r\n    font-size: 1em;\r\n    font-weight: normal;\r\n}');