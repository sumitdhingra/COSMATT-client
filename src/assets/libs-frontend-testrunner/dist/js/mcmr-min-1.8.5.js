/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function n(e,n,r,s){if(n===s)return!0;if(e===r){if("http"===e)return t(n,"80")===t(s,"80");if("https"===e)return t(n,"443")===t(s,"443")}return!1}var r,s,i,a,o,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,d="undefined"!=typeof location&&location.href,p=d&&location.protocol&&location.protocol.replace(/\:/,""),m=d&&location.hostname,f=d&&(location.port||void 0),v={},h=e.config&&e.config()||{};return r={version:"2.0.15",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=c[t];try{e=new ActiveXObject(n)}catch(r){}if(e){c=[n];break}}return e},parseName:function(e){var t,n,r,s=!1,i=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==i&&(!a||i>1)?(t=e.substring(0,i),n=e.substring(i+1)):t=e,r=n||t,i=r.indexOf("!"),-1!==i&&(s="strip"===r.substring(i+1),r=r.substring(0,i),n?n=r:t=r),{moduleName:t,ext:n,strip:s}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,s,i){var a,o,c,u=r.xdRegExp.exec(e);return u?(a=u[2],o=u[3],o=o.split(":"),c=o[1],o=o[0],(!a||a===t)&&(!o||o.toLowerCase()===s.toLowerCase())&&(!c&&!o||n(a,c,t,i))):!0},finishLoad:function(e,t,n,s){n=t?r.strip(n):n,h.isBuild&&(v[e]=n),s(n)},load:function(e,t,n,s){if(s&&s.isBuild&&!s.inlineText)return void n();h.isBuild=s&&s.isBuild;var i=r.parseName(e),a=i.moduleName+(i.ext?"."+i.ext:""),o=t.toUrl(a),c=h.useXhr||r.useXhr;return 0===o.indexOf("empty:")?void n():void(!d||c(o,p,m,f)?r.get(o,function(t){r.finishLoad(e,i.strip,t,n)},function(e){n.error&&n.error(e)}):t([a],function(e){r.finishLoad(i.moduleName+"."+i.ext,i.strip,e,n)}))},write:function(e,t,n,s){if(v.hasOwnProperty(t)){var i=r.jsEscape(v[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,s,i){var a=r.parseName(t),o=a.ext?"."+a.ext:"",c=a.moduleName+o,u=n.toUrl(a.moduleName+o)+".js";r.load(c,n,function(t){var n=function(e){return s(u,e)};n.asModule=function(e,t){return s.asModule(e,u,t)},r.write(e,c,n,i)},i)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(s=require.nodeRequire("fs"),r.get=function(e,t,n){try{var r=s.readFileSync(e,"utf8");"\ufeff"===r[0]&&(r=r.substring(1)),t(r)}catch(i){n&&n(i)}}):"xhr"===h.env||!h.env&&r.createXhr()?r.get=function(e,t,n,s){var i,a=r.createXhr();if(a.open("GET",e,!0),s)for(i in s)s.hasOwnProperty(i)&&a.setRequestHeader(i.toLowerCase(),s[i]);h.onXhr&&h.onXhr(a,e),a.onreadystatechange=function(r){var s,i;4===a.readyState&&(s=a.status||0,s>399&&600>s?(i=new Error(e+" HTTP status: "+s),i.xhr=a,n&&n(i)):t(a.responseText),h.onXhrComplete&&h.onXhrComplete(a,e))},a.send(null)}:"rhino"===h.env||!h.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?r.get=function(e,t){var n,r,s="utf-8",i=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),s)),c="";try{for(n=new java.lang.StringBuffer,r=o.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=o.readLine());)n.append(a),n.append(r);c=String(n.toString())}finally{o.close()}t(c)}:("xpconnect"===h.env||!h.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in i,r.get=function(e,t){var n,r,s,c={};o&&(e=e.replace(/\//g,"\\")),s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),n.init(s,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),r.init(n,"utf-8",n.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),c),r.close(),n.close(),t(c.value)}catch(u){throw new Error((s&&s.path||"")+": "+u)}}),r}),define("text!../test/layouts/mcqmc-regular.html",[],function(){return'<!-- iFrame Starts Here-->\r\n{{#with content}}\r\n<div class="activity-body mcq-multiple-body">\r\n    <h2><strong>{{getAdapterParams \'activityName\'}}</strong></h2>\r\n    <p class="instructions">{{{directions}}}</p>\r\n    <div class="smart-form">               \r\n        <p>\r\n           {{#with canvas.data}}\r\n              {{#each questiondata}}\r\n                 {{{this.text}}}\r\n              {{/each}}\r\n           {{/with}}\r\n        </p>            \r\n        <ul class="list-unstyled nested-list">\r\n            {{#each interactions}}\r\n                {{#with this}}\r\n                   {{#each this}}\r\n                      {{#each this}}\r\n                         {{#each this}}      \r\n                            <li>\r\n                               <label class="checkbox checkbox-lg">\r\n                                  <span id="answer{{@index}}" class="invisible wrong"></span>\r\n                                  <input type="checkbox" name="optionsCheck" class="option" id="option{{@index}}" value="{{{this}}}">\r\n                                  <i></i>\r\n                                  <span class="content">{{{this}}}</span>\r\n                               </label>\r\n                            </li>\r\n                         {{/each}} \r\n                      {{/each}}\r\n                   {{/each}}\r\n                {{/with}}\r\n            {{/each}}   \r\n        </ul>\r\n    </div>\r\n    {{#if displaySubmit}}\r\n        <footer>       \r\n            <div class="activity-toolbar">\r\n                <span class="bottom-logo"></span>            \r\n                <p class="pull-right">\r\n                    <button class="btn btn-primary" id="submit">Submit</button>\r\n                </p>           \r\n                <div class="clearfix"></div>        \r\n            </div>   \r\n        </footer>\r\n    {{/if}}\r\n</div>\r\n{{/with}}\r\n<!-- iFrame Ends Here-->'}),define("css",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]||"WebkitAppearance"in document.documentElement.style?r=!1:t[4]&&(n=parseInt(t[4])<18);var s={};s.pluginBuilder="./css-builder";var i,a,o,c=function(){i=document.createElement("style"),e.appendChild(i),a=i.styleSheet||i.sheet},u=0,l=[],d=function(e){a.addImport(e),i.onload=function(){p()},u++,31==u&&(c(),u=0)},p=function(){o();var e=l.shift();return e?(o=e[1],void d(e[0])):void(o=null)},m=function(e,t){if(a&&a.addImport||c(),a&&a.addImport)o?l.push([e,t]):(d(e),o=t);else{i.textContent='@import "'+e+'";';var n=setInterval(function(){try{i.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}},f=function(t,n){var s=document.createElement("link");if(s.type="text/css",s.rel="stylesheet",r)s.onload=function(){s.onload=function(){},setTimeout(n,7)};else var i=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==s.href)return clearInterval(i),n()}},10);s.href=t,e.appendChild(s)};return s.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},s.load=function(e,t,r,s){(n?m:f)(t.toUrl(e+".css"),r)},s}),define("css!../css/mcmr",[],function(){}),define("mcmr-min-1.8.5",["text!../test/layouts/mcqmc-regular.html","css!../css/mcmr.css"],function(e){mcmr=function(){"use strict";function t(e,t,n,r,s,i){function a(){audiojs.events.ready(function(){var e=$("#audio1");C.bookAudio=audiojs.create(e[0],{css:!1,createPlayer:{markup:!1,playPauseClass:"play-pauseZ",scrubberClass:"scrubberZ",progressClass:"progressZ",loaderClass:"loadedZ",timeClass:"timeZ",durationClass:"durationZ",playedClass:"playedZ",errorMessageClass:"error-messageZ",playingClass:"playingZ",loadingClass:"loadingZ",errorClass:"errorZ"}}),-1!==navigator.userAgent.indexOf("iPad")&&($(".scrubberZ").width("60%"),$(".loadedZ").width($(".scrubberZ").width()),$(".timeZ").css("border-right","0"),$(".volumeZ").addClass("hidden"))}),$(".audiojsZ .volumeZ button").click(function(){var e=$(this).parent(),t=e.attr("data-volume"),n=$(this).find("i").attr("class");switch(n){case"icon-plus":100>t&&(C.bookAudio.setVolume(.1+t/100),e.attr("data-volume",parseInt(t,10)+10),e.find(".icon-volume-down").length>0&&e.find(".icon-volume-down").toggleClass("icon-volume-up icon-volume-down"));break;case"icon-minus":t>0&&(C.bookAudio.setVolume(t/100-.1),e.attr("data-volume",t-10),e.find(".icon-volume-down").length>0&&e.find(".icon-volume-down").toggleClass("icon-volume-up icon-volume-down"));break;case"icon-volume-up":C.bookAudio.setVolume(0),$(this).find("i").toggleClass("icon-volume-up icon-volume-down");break;case"icon-volume-down":C.bookAudio.setVolume(t/100),$(this).find("i").toggleClass("icon-volume-up icon-volume-down")}})}var o=jQuery.extend(!0,{},s);b=n;var c=!0;if(void 0===o.content&&(c=!1),!c)return void(i&&i());var u=f(o,t),l=m(A.TEMPLATES[r],u);$(e).html(l),$(A.DOM_SEL_ACTIVITY_BODY).attr(A.ADAPTOR_INSTANCE_IDENTIFIER,n.getId()),u.containsAudio&&a(),("state_preview"===t.mode.activityState||"state_resume"===t.mode.activityState)&&renderResults(t),"state_preview"!==t.mode.activityState&&h(),i&&i()}function n(){return w}function r(){return C.activitySubmitted||C.activityPariallySubmitted}function s(e){var t=$(A.DOM_SEL_ACTIVITY_BODY).attr(A.ADAPTOR_INSTANCE_IDENTIFIER),n=p(!1);e===!0?b.submitResults(n,t,function(t,n){"NO_ERROR"===n?(C.activitySubmitted=!0,b.closeActivity(),C.currentTries=0):C.currentTries<w.MAX_RETRIES&&(C.currentTries++,s(e))}):b.savePartialResults(n,t,function(e,t){"NO_ERROR"===t&&(C.activityPariallySubmitted=!0)})}function i(e){s(!0),$("input[id^=option]").attr("disabled",!0),$("#submit").attr("disabled","disabled")}function a(e){var t=e.currentTarget,n=t.value.replace(/^\s+|\s+$/g,"");if(t.checked===!0)I.userAnswersXML.push(n.replace(/^\s+|\s+$/g,""));else if(t.checked===!1){var r=$.inArray(n.replace(/^\s+|\s+$/g,""),I.userAnswersXML);-1!==r&&I.userAnswersXML.splice(r,1)}$(document).triggerHandler("userAnswered")}function o(){$("input.option").attr("disabled",!0),c(),b.autoResizeActivityIframe()}function c(){for(var e=0;e<I.answersXML.length;e++)for(var t=0;t<I.optionsXML.length;t++)-1!==$.inArray(I.optionsXML[t],I.answersXML)?($("#answer"+t).removeClass("wrong"),$("#answer"+t).addClass("correct"),$("#answer"+t).parent().addClass("state-success")):($("#answer"+t).removeClass("correct"),$("#answer"+t).addClass("wrong"),$("#answer"+t).parent().addClass("state-error")),$("#answer"+t).removeClass("invisible")}function u(){$("input.option").attr("disabled",!1),l(),b.autoResizeActivityIframe()}function l(){for(var e=0;e<I.optionsXML.length;e++)$("#answer"+e).removeClass("correct"),$("#answer"+e).parent().removeClass("state-success"),$("#answer"+e).parent().removeClass("state-error"),$("#answer"+e).addClass("wrong"),$("#answer"+e).addClass("invisible")}function d(){$("input.option").prop("checked",!1),I.userAnswersXML=[],C.currentTries=0,C.activityPariallySubmitted=!1,C.activitySubmitted=!1}function p(e){var t="",n={},r=A.ACTIVITY_NOT_ATTEMPTED,s=A.ACTIVITY_NOT_APPLICABLE,i=!1,a=!0,o=!1,c=new Array(1),u=I.questionXML.split("^^"),l=u[2].trim();if(e)t="Not Answered";else{var d=!0;t=I.userAnswersXML.join(" ^^ ");var p=0,m=I.maxscore;if(t){if(I.answersXML.length===I.userAnswersXML.length){for(var f=0;f<I.answersXML.length;f++)if(-1===$.inArray(I.userAnswersXML[f],I.answersXML)){d=!1;break}d===!0&&(p+=m)}else d=!1;d===!0?i=!0:(o=!0,a=!1)}else a=!1;a?s=A.ACTIVITY_CORRECT:i?s=A.ACTIVITY_PARTIALLY_CORRECT:o&&(s=A.ACTIVITY_INCORRECT)}n={id:l,score:p,answer:t,maxscore:m},c[0]=n;var v={interactions:c};return e||(r=A.ACTIVITY_IN_PROGRESS),v.statusProgress=r,v.statusEvaluation=s,{response:v}}function m(e,t){var n=Handlebars.compile(e),r=n(t);return r}function f(e,t){if(e.content.displaySubmit=b.displaySubmit,e.content.instructions&&e.content.instructions[0]&&e.content.instructions[0].tag){var n=e.content.instructions[0].tag;I.directionsXML=e.content.instructions[0][n]}I.maxscore=e.meta.score.max,$.each(e.content.stimulus,function(e){"options"===this.tag&&(this.options=this.options.split(",")),"image"===this.tag&&(this.image=t.productAssetsBasePath+this.image),"audio"===this.tag&&(this.audio=t.productAssetsBasePath+this.audio),"video"===this.tag&&(this.video=t.productAssetsBasePath+this.video)});var r="",s="",i="http://www.comprodls.com/m1.0/interaction/mcqmc",a=$.parseHTML(e.content.canvas.data.questiondata[0].text),o=0;$.each(a,function(e){this.href===i&&(r=this.childNodes[0].nodeValue.trim(),s=this.outerHTML,s=s.replace(/"/g,"'"),o++)}),e.content.canvas.data.questiondata[0].text=e.content.canvas.data.questiondata[0].text.replace(s,"");for(var c="1.  "+e.content.canvas.data.questiondata[0].text,u=e.content.interactions[r].type,l=e.responses[r].correct,d=e.content.interactions[r][u].length,p=0;d>p;p++){var m=e.content.interactions[r][u][p],f=m[Object.keys(m)].replace(/^\s+|\s+$/g,"");I.optionsXML.push(v(f)),m[Object.keys(m)]=f,e.content.interactions[r][u][p]=m,$.each(l,function(e){Object.keys(m)==this&&I.answersXML.push(m[Object.keys(m)])})}return I.questionXML=c+" ^^ "+I.optionsXML.toString()+" ^^ "+r,e}function v(e){var t=$("<div></div>");return $(t).html(e),$("body").append(t),e=$(t).html(),$(t).remove(),e}function h(){$("input[id^=option]").change(a),$(".loadedZ, .progressZ").click(function(e){e.stopPropagation()}),$(document).unbind("userAnswered"),$("#submit").click(i),$(document).bind("userAnswered",function(){s(!1)})}function g(e){var t;1===e.interactions.length&&(t=e.interactions[0].answer.split("^^"));for(var n=0;n<t.length;n++){I.userAnswersXML.push(t[n]);for(var r=0;r<I.optionsXML.length;r++)t[n].trim()===I.optionsXML[r]&&$("input#option"+r).attr("checked","checked")}}function y(){var e=$(A.DOM_SEL_ACTIVITY_BODY).attr(A.ADAPTOR_INSTANCE_IDENTIFIER),t=p(!0);b.submitSkipQuestion(t,e)}function T(e){var t={layout:A.TEMPLATES[e],css:""};return t}var b,w={MAX_RETRIES:10,RESIZE_MODE:"auto",RESIZE_HEIGHT:"580"},C={currentTries:0,activityPariallySubmitted:!1,activitySubmitted:!1,bookAudio:null},I={directionsXML:"",questionXML:"",optionsXML:[],answersXML:[],userAnswersXML:[],maxscore:0},A={DOM_SEL_ACTIVITY_BODY:".activity-body",ADAPTOR_INSTANCE_IDENTIFIER:"data-objectid",ACTIVITY_NOT_ATTEMPTED:"not_attempted",ACTIVITY_IN_PROGRESS:"in_progress",ACTIVITY_NOT_APPLICABLE:"not_applicable",ACTIVITY_PARTIALLY_CORRECT:"partially_correct",ACTIVITY_CORRECT:"correct",ACTIVITY_INCORRECT:"incorrect",TEMPLATES:{MCQ:e}};return{init:t,getStatus:r,getConfig:n,handleSubmit:i,forceSubmit:y,showGrades:o,clearGrades:u,resetAnswers:d,getItemContent:T,updateLastSavedResults:g}}}),function(e){var t=document,n="appendChild",r="styleSheet",s=t.createElement("style");s.type="text/css",t.getElementsByTagName("head")[0][n](s),s[r]?s[r].cssText=e:s[n](t.createTextNode(e))}('/*******************************************************\r\n *\r\n * Core styles for the MCQMC Engine\r\n *\r\n * These styles do not include any product-specific branding\r\n * and/or layout / design. They represent minimal structural\r\n * CSS which is necessary for a default rendering of an\r\n * MCQMC activity\r\n *\r\n * The styles are linked/depending on the presence of\r\n * certain elements (classes / ids / tags) in the DOM (as would\r\n * be injected via a valid MCQMC layout HTML and/or dynamically\r\n * created by the MCQMC engine JS)\r\n *\r\n *\r\n *******************************************************/\r\n\r\n.mcq-multiple-body span.correct:before {\r\n    content: "\\f00c";\r\n    color: green;\r\n    font-family: fontawesome;\r\n	margin: 0 3.5em auto -3.5em;\r\n}\r\n\r\n.mcq-multiple-body span.wrong:before {\r\n    content: "\\f00d";\r\n    color: red;\r\n    font-family: fontawesome;\r\n	margin: 0 3.5em auto -3.5em;\r\n}');